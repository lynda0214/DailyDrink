(this.webpackJsonpdailydrinks=this.webpackJsonpdailydrinks||[]).push([[0],{23:function(e,t,n){e.exports={OrderFormPage:"OrderFormPage_OrderFormPage__1D8k0",OrderForm:"OrderFormPage_OrderForm__24M9w",SubmitBtn:"OrderFormPage_SubmitBtn__1sDnP"}},27:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__3jfJ1",Logo:"Toolbar_Logo__29l45"}},31:function(e,t,n){e.exports={IconButton:"Order_IconButton__39tSh"}},32:function(e,t,n){e.exports={OrderList:"OrderList_OrderList__GEEms",NoOrder:"OrderList_NoOrder__2hU_0"}},35:function(e,t,n){e.exports={OrderButton:"OrderButton_OrderButton__2EVPh"}},37:function(e,t,n){e.exports={OrderListPage:"OrderListPage_OrderListPage__1elnX"}},38:function(e,t,n){e.exports=n(53)},47:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(15),l=n.n(i),o=n(17),c=n(10),d=(n(47),n(6)),u=n(9),s=(n(48),n(27)),m=n.n(s),p=n(13),E=n(14),h=n(35),f=n.n(h),O=function(){return a.a.createElement(d.b,{to:"".concat("/DailyDrink","/order"),className:f.a.OrderButton},a.a.createElement(p.a,{icon:E.b}))},b=function(){return a.a.createElement("header",{className:m.a.Toolbar},a.a.createElement(d.b,{to:"".concat("/DailyDrink","/"),className:m.a.Logo},"DailyDrinks"),a.a.createElement(O,null))},k=n(37),v=n.n(k),_=n(18),g=n(19),y=n(21),D=n(20),w=n(22),P=n(31),j=n.n(P),T=function(e){var t="/DailyDrink/edit/";return t+=e.index,a.a.createElement("tr",null,a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.price),a.a.createElement("td",null,a.a.createElement("pre",null,e.addition)),a.a.createElement("td",{style:{textAlign:"right"}},a.a.createElement(d.b,{to:t},a.a.createElement(p.a,{icon:E.a,className:j.a.IconButton})),a.a.createElement(p.a,{icon:E.c,className:j.a.IconButton,onClick:e.delete})))},x=n(32),L=n.n(x),N=function(e){function t(){return Object(_.a)(this,t),Object(y.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return this.props.drinks.length?a.a.createElement("table",{className:L.a.OrderList},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"\u98f2\u6599\u54c1\u9805"),a.a.createElement("th",null,"\u50f9\u683c"),a.a.createElement("th",null,"\u9644\u8a3b"),a.a.createElement("th",null))),a.a.createElement("tbody",null,this.props.drinks.map((function(t,n){return a.a.createElement(T,{key:n,index:n,title:t.title,price:t.price,addition:t.addition,delete:function(){return e.props.onDeleteDrink(n)}})}))),a.a.createElement("tfoot",null,a.a.createElement("tr",null,a.a.createElement("td",null,"\u676f\u6578\uff1a",this.props.drinks.length),a.a.createElement("td",null,"\u7e3d\u50f9\uff1a",this.props.drinks.reduce((function(e,t){return e+t.price}),0)),a.a.createElement("td",null),a.a.createElement("td",null)))):a.a.createElement("h2",{className:L.a.NoOrder},"\u76ee\u524d\u9084\u6c92\u6709\u4eba\u9ede\u98f2\u6599\uff0c\u9ede\u64ca\u53f3\u4e0a\u89d2(+)\u9ede\u98f2\u6599")}}]),t}(r.Component),B=Object(c.b)((function(e){return{drinks:e.drinks}}),(function(e){return{onDeleteDrink:function(t){return e({type:"DELETE",id:t})}}}))(N),A=function(){return a.a.createElement("div",{className:v.a.OrderListPage},a.a.createElement(B,null))},F=n(23),I=n.n(F),S=function(e){function t(){var e,n;Object(_.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(a)))).id=n.props.match.params.id,n.oldOrder=n.id?n.props.drinks[n.id]:null,n.oldTitle=n.id?n.oldOrder.title:null,n.oldPrice=n.id?n.oldOrder.price:null,n.oldAddition=n.id?n.oldOrder.addition:null,n.state={errMsg:{title:"",price:""}},n.handelSubmit=function(e){n.handleValidate("title")&&n.handleValidate("price")?n.id?n.props.onEditOrder(n.id,n.refs.newTitle.value,parseInt(n.refs.newPrice.value),n.refs.newAddition.value):n.props.onCreateOrder(n.refs.newTitle.value,parseInt(n.refs.newPrice.value),n.refs.newAddition.value):e.preventDefault()},n.handleValidate=function(e){var t={},r=!1;return"title"===e?""===n.refs.newTitle.value?t[e]="\u2191\u54c1\u9805\u5fc5\u586b":(t[e]="",r=!0):"price"===e&&(""===n.refs.newPrice.value?t[e]="\u2191\u50f9\u683c\u5fc5\u586b":n.refs.newPrice.value<0?t[e]="\u2191\u50f9\u9322\u4e0d\u80fd\u662f\u8ca0\u6578":(t[e]="",r=!0)),n.setState({errMsg:t}),r},n}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:I.a.OrderFormPage},a.a.createElement("form",{onSubmit:this.handelSubmit,className:I.a.OrderForm},a.a.createElement("h3",null,this.id?"\u7de8\u8f2f\u8a02\u55ae":"\u9ede\u98f2\u6599"),a.a.createElement("input",{type:"text",ref:"newTitle",defaultValue:this.oldTitle,placeholder:"\u8acb\u8f38\u5165\u98f2\u6599\u54c1\u9805\u540d\u7a31"}),a.a.createElement("span",null,this.state.errMsg.title),a.a.createElement("input",{type:"number",ref:"newPrice",defaultValue:this.oldPrice,placeholder:"\u8acb\u8f38\u5165\u98f2\u6599\u50f9\u683c"}),a.a.createElement("span",null,this.state.errMsg.price),a.a.createElement("textarea",{ref:"newAddition",defaultValue:this.oldAddition,placeholder:"\u8acb\u8f38\u5165\u9644\u8a3b(ex.\u751c\u5ea6\u51b0\u584a)"}),a.a.createElement(d.b,{to:"".concat("/DailyDrink","/")},a.a.createElement("input",{type:"submit",className:I.a.SubmitBtn,onClick:this.handelSubmit,value:"\u9001\u51fa"}))))}}]),t}(r.Component),C=Object(c.b)((function(e){return{drinks:e.drinks}}),(function(e){return{onEditOrder:function(t,n,r,a){return e({type:"EDIT",id:t,title:n,price:r,addition:a})},onCreateOrder:function(t,n,r){return e({type:"CREATE",title:t,price:n,addition:r})}}}))(S),V=function(){return a.a.createElement(d.a,null,a.a.createElement(b,null),a.a.createElement(u.a,{path:"".concat("/DailyDrink","/"),exact:!0,component:A}),a.a.createElement(u.a,{path:"".concat("/DailyDrink","/order"),component:C}),a.a.createElement(u.a,{path:"".concat("/DailyDrink","/edit/:id"),component:C}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(24),J={drinks:[{title:"\u73cd\u73e0\u5976\u8336",price:50,addition:"\u5fae\u7cd6\u53bb\u51b0"}]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE":var n={title:t.title,price:t.price,addition:t.addition};return{drinks:[].concat(Object(M.a)(e.drinks),[n])};case"EDIT":var r=Object(M.a)(e.drinks);return r[t.id].title=t.title,r[t.id].price=t.price,r[t.id].addition=t.addition,{drinks:r};case"DELETE":var a=Object(M.a)(e.drinks);return a.splice(t.id,1),{drinks:a};default:return e}},W=Object(o.b)(R);l.a.render(a.a.createElement(c.a,{store:W},a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.7d8cc2f1.chunk.js.map